/* =============================
   RFQ List — page.module.css
   Baseline: sticky header, 12 rows/page (filler), pagination bar
   ============================= */

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

:root{
  --bg:#F9FAFB;
  --panel:#FFFFFF;
  --text:#1F2A44;
  --muted:#6B7280;
  --border:#D1D5DB;

  --success:#10B981;
  --warning:#F59E0B;
  --danger:#EF4444;
  --info:#3B82F6;

  --tint-50:#FAFAFA;
  --tint-100:#F3F4F6;
  --tint-200:#E5E7EB;

  --radius:6px;

  --row-h:60px;
  --rows-per-page:10; /* will be overridden inline to 12 */

  --th-font:1.05rem;
  --th-min-h:60px;
  --th-pad-y:14px;
  --th-pad-x:12px;
  --th-line:1.25;

  --z-header:10;
  --z-toolbar:100;
  --z-modal:11000;
}

/* Layout */
.mainHome{
  min-height:100vh;
  font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial,'Noto Sans';
  display:flex;align-items:center;justify-content:center;
  background:var(--bg);
}
.infoContainer{
  width:100%;min-height:100vh;background:var(--panel);color:var(--text);
  border-radius:var(--radius);padding:24px;display:flex;flex-direction:column;gap:14px;
  box-shadow:0 2px 8px rgba(0,0,0,.05);
}

/* Header */
.pageBar{
  display:flex;justify-content:space-between;align-items:center;
  padding-bottom:12px;border-bottom:1px solid var(--border);
}
.pageTitle{
  margin:0;display:flex;align-items:center;gap:12px;
  font-weight:700;font-size:clamp(1.4rem,2.2vw,2rem);color:var(--text);
}
.titleGroup{ display:flex;align-items:flex-end;gap:12px;flex-wrap:wrap; }
.subtitle{ margin:0;color:var(--muted);font-size:.95rem; }

/* Toolbar */
.toolbar{
  position:relative;z-index:var(--z-toolbar);
  display:flex;gap:12px;align-items:flex-end;justify-content:space-between;flex-wrap:wrap;
  padding:16px;border-radius:var(--radius);
}
.filterGrid{ display:grid;grid-template-columns:auto 1fr;gap:12px;flex:1; }
.filterGroup{ display:flex;flex-direction:column;gap:6px; }
.label{ font-size:.85rem;color:var(--text);font-weight:600; }
.input{
  height:40px;border:1px solid var(--border);border-radius:8px;padding:0 12px;
  font-size:.95rem;transition:border-color .2s ease, box-shadow .2s ease;
}
.input:focus{ outline:none;border-color:var(--info);box-shadow:0 0 0 3px rgba(59,130,246,.1); }
.searchBar{ position:relative;display:flex;align-items:center; }
.searchIcon{ position:absolute;left:10px;color:#9ca3af; }
.searchBar .input{ padding-left:34px; }

/* react-select portal z-index (ใช้คู่กับ classNamePrefix="rs") */
.rs__menu-portal{ z-index:13000 !important; }

/* Table (หลัก) */
.tableSection{
  background:#fff;border-radius:var(--radius);overflow:hidden;display:flex;flex-direction:column;
}
.tableGrid{
  display:grid;align-items:center;
  grid-template-columns:
    minmax(160px, 1.1fr) /* RFQ NO */
    minmax(200px, 1.5fr) /* ผู้จัดทำ */
    minmax(140px, 1fr)   /* วันที่สร้าง */
    minmax(140px, 1fr)   /* สถานะ */
    minmax(220px, 1.4fr) /* การกระทำ */;
}
.tableHeader{
  position:sticky;top:0;z-index:var(--z-header);
  background:#f1f5f9;
  padding-block:var(--th-pad-y);
  padding-inline:var(--th-pad-x);
  font-weight:700;color:#000;font-size:var(--th-font);line-height:var(--th-line);min-height:var(--th-min-h);
  border-bottom:1px solid #e5e7eb; /* ✅ เส้นหัวตารางเท่ากับเส้นในตาราง */
}
.tableHeader .headerItem,
.tableHeader>div{
  font-weight:700;display:flex;align-items:center;white-space:nowrap;padding:0;
}
.tableHeader .headerItem:nth-child(3),
.tableHeader .headerItem:nth-child(4),
.tableHeader .headerItem:nth-child(5){
  justify-content:center;text-align:center;
}

.inventory{
  height:calc(var(--row-h) * var(--rows-per-page));
  overflow:hidden;background:#fff;
}
.tableRow{
  box-sizing:border-box;height:var(--row-h);padding:0 var(--th-pad-x);
  border-top:1px solid #e5e7eb;transition:background-color .2s ease;
}
.tableRow:first-child{ border-top:0; }
.tableRow:hover{ background:#E5E7EB; }
.tableCell{
  display:flex;align-items:center;padding:4px 6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.centerCell{ display:flex;justify-content:center; }
.mono{
  font-variant-numeric:tabular-nums;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

/* Filler (no hover) */
.fillerRow{ pointer-events:none; }
.fillerRow:hover{ background:inherit !important; }

.noDataMessage{
  height:calc(var(--row-h) * var(--rows-per-page));
  display:flex;align-items:center;justify-content:center;color:var(--muted);
}

/* Loading */
.loadingContainer{
  height:calc(var(--row-h) * var(--rows-per-page));
  display:flex;align-items:center;justify-content:center;
}
.spinner{ color:var(--muted); }

/* Buttons */
.actionButton{
  display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-radius:8px;border:1px solid transparent;
  transition:background-color .2s ease, transform .15s ease, border-color .2s ease;
}
.primaryButton{
  background:#3B82F6;color:#fff;border-color:#3B82F6;
}
.primaryButton:hover{ background:#2563EB; transform:translateY(-1px); }
.ghostBtn{
  background:#fff;color:#1F2A44;border:1px solid var(--border);
}
.ghostBtn:hover{ background:#F3F4F6; transform:translateY(-1px); }

/* ระยะห่างระหว่างปุ่มในคอลัมน์การกระทำ */
.actionButton + .actionButton { margin-left:10px; }
@media (max-width: 640px){ .actionButton + .actionButton { margin-left:8px; } }

/* Pagination */
.paginationBar{
  display:flex;justify-content:space-between;align-items:center;gap:12px;
  padding:12px 0;border-top:1px solid var(--border);background:#fff;
}
.paginationInfo{ font-size:.9rem;color:var(--muted); }
.paginationControls{ display:flex;list-style:none;gap:6px;margin:0;padding:0; }
.pageButton{
  min-width:34px;height:40px;border:1px solid var(--border);border-radius:8px;background:#fff;
  cursor:pointer;font-size:.95rem;font-weight:500;color:#1F2A44;padding:6px 10px;
  transition:background-color .2s ease, color .2s ease, transform .1s ease;
}
.pageButton:hover:not(:disabled){ background:#F3F4F6; transform:translateY(-1px); }
.pageButton:disabled{ opacity:.5; cursor:not-allowed; }
.activePage{ background:#3B82F6; color:#fff; border-color:#3B82F6; }
.ellipsis{ padding:0 8px; color:var(--muted); font-size:1rem; }

/* Status Badges */
.stBadge{
  display:inline-flex;align-items:center;justify-content:center;
  padding:6px 10px;border-radius:999px;font-weight:700;font-size:.85rem;min-width:92px;border:1px solid transparent;
}
.stPending  { color:#92400E; background:#FEF3C7; border-color:#FCD34D; }
.stApproved { color:#065F46; background:#D1FAE5; border-color:#6EE7B7; }
.stCompleted{ color:#1f2937; background:#E5E7EB; border-color:#D1D5DB; }
.stCanceled { color:#991B1B; background:#FEE2E2; border-color:#FECACA; }

/* Modal */
.modalOverlay{
  position:fixed;inset:0;background:rgba(0,0,0,.35);
  display:flex;align-items:center;justify-content:center;z-index:var(--z-modal);
}
.modalContent{
  width:min(920px, 92vw);max-height:86vh;background:#fff;border-radius:12px;overflow:hidden;
  display:flex;flex-direction:column;box-shadow:0 10px 30px rgba(0,0,0,.2);
}
.modalHeader{
  display:flex;justify-content:space-between;align-items:center;padding:16px 18px;border-bottom:1px solid var(--border);
}
.modalBody{
  padding:16px 18px;overflow:auto;display:flex;flex-direction:column;gap:14px;
}
.modalFooter{
  display:flex;justify-content:flex-end;gap:8px;padding:12px 18px;border-top:1px solid var(--border);
}
.closeButton{
  border:1px solid var(--border);background:#fff;border-radius:8px;height:36px;width:36px;display:flex;align-items:center;justify-content:center;
}
.closeButton:hover{ background:#F3F4F6; }

.metaGrid{
  display:grid;grid-template-columns:repeat(3, minmax(160px,1fr));gap:8px;
}
.sectionTitle{ margin:8px 0 4px;font-size:1rem;font-weight:700;color:var(--text); }

/* ===== Inner table (modal) ===== */
.innerTableSection{
  border:1px solid var(--border);
  border-radius:10px;           /* โค้งนุ่มขึ้น */
  overflow:hidden;
}
.innerGrid{
  display:grid;align-items:center;
  /* ✅ กำหนดคอลัมน์เดียวกันทั้ง header และ rows เพื่อให้ตรงกันเป๊ะ */
  grid-template-columns:
    minmax(220px, 2fr)   /* ชื่อสินค้า (ซ้าย) */
    minmax(100px, .9fr)  /* จำนวน (กลาง) */
    minmax(100px, .9fr)  /* หน่วย (กลาง) */
    minmax(240px, 1.6fr) /* คุณลักษณะ (ซ้าย) */;
  column-gap:0;
}

/* Header ของตารางย่อย */
.innerHeader{
  background:#f1f5f9;
  padding:12px 12px;           /* จูนระยะให้เนียนกับแถวข้อมูล */
  font-weight:700;
  border-bottom:1px solid #e5e7eb;
}
.innerHeader .headerItem{
  display:flex;align-items:center;white-space:nowrap;padding:0;
}
/* ✅ จัดตัวอักษรหัวคอลัมน์ให้ตรงกับข้อมูล: คอลัมน์ 2–3 กลาง, 1 และ 4 ชิดซ้าย */
.innerHeader .headerItem:nth-child(2),
.innerHeader .headerItem:nth-child(3){
  justify-content:center; text-align:center;
}
.innerHeader .headerItem:nth-child(1),
.innerHeader .headerItem:nth-child(4){
  justify-content:flex-start; text-align:left;
}

/* แถวข้อมูลตารางย่อย */
.innerRow{
  min-height:56px;             /* สูงขึ้นเล็กน้อยให้อ่านง่าย */
  border-top:1px solid #e5e7eb;
  padding:8px 12px;
}
.innerBody{ background:#fff; }

/* ✅ จัดกลางคอลัมน์ 2–3 ในทุกแถว (กันพลาดถ้าลืมใส่ .centerCell) */
.innerRow > div:nth-child(2),
.innerRow > div:nth-child(3){
  justify-content:center;
  text-align:center;
  font-variant-numeric: tabular-nums; /* เลขนิ่งชิดเสา */
}

/* ตัดชื่อสินค้ายาวด้วย … */
.innerRow > div:nth-child(1){
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}

/* Misc */
.swalButton{ font-weight:700; }
.hideSm{ display:inline; }
@media (max-width: 640px){
  .filterGrid{ grid-template-columns:1fr; }
  .hideSm{ display:none; }
  .metaGrid{ grid-template-columns:1fr; }
  .tableGrid{
    grid-template-columns:
      1fr     /* RFQ */
      1.2fr   /* ผู้จัดทำ */
      0.9fr   /* วันที่ */
      0.9fr   /* สถานะ */
      1.2fr;  /* การกระทำ */
  }
}
