/* ===== Backdrop & Shell ===== */
.backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.35);
  display:flex; align-items:center; justify-content:center; z-index:1000;
}
.modal{
  width:min(900px, 94vw); max-height:85vh; overflow:auto;
  background:#fff; border-radius:14px; box-shadow:0 10px 30px rgba(0,0,0,.2);
  animation:pop .15s ease-out; border:1px solid #eef2f7;
}
@keyframes pop{from{transform:scale(.98);opacity:.6}to{transform:scale(1);opacity:1}}

.header{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 16px; border-bottom:1px solid #eef2f7; background:#f8fafc;
}
.titleWrap{display:flex; align-items:center; gap:10px}
.icon{display:inline-flex; align-items:center; color:#0f172a}
.title{margin:0; font-weight:800; color:#0f172a}
.headerRight{display:flex; align-items:center; gap:8px}
.close{background:transparent; border:none; font-size:22px; line-height:1; cursor:pointer}

.body{ padding:16px; }
.footer{ padding:12px 16px; border-top:1px solid #eef2f7; display:flex; justify-content:flex-end }
.primary{
  background:#008DDA; color:#fff; border:none; border-radius:10px; padding:8px 14px; cursor:pointer
}

/* ===== Variants (header themes) ===== */
.hdr-po{ background:linear-gradient(135deg,#e7f5ff,#f5fbff); border-bottom-color:#dbeafe }
.hdr-rfq{ background:linear-gradient(135deg,#f6f9ff,#fff); border-bottom-color:#e0e7ff }
.hdr-gr{ background:linear-gradient(135deg,#f0fff4,#f7fff9); border-bottom-color:#bbf7d0 }

.box-po{ border-top:4px solid #0ea5e9 }
.box-rfq{ border-top:4px solid #6366f1 }
.box-gr{ border-top:4px solid #22c55e }

/* ===== Reusable UI in modal body ===== */
.kvGrid{ display:grid; grid-template-columns:repeat(2,1fr); gap:8px; margin-bottom:14px }
.kv{ background:#f8fafc; border:1px solid #e2e8f0; border-radius:10px; padding:8px 10px; }
.kv span{ color:#64748b; font-size:12px; display:block; margin-bottom:2px }
.kv strong{ color:#0f172a }

.statRow{ display:grid; grid-template-columns:repeat(3,1fr); gap:8px; margin-bottom:12px }
.stat{ background:#ffffff; border:1px dashed #e2e8f0; border-radius:12px; padding:10px }
.stat .v{ font-size:20px; font-weight:800; color:#0f172a }
.stat .k{ color:#64748b; font-size:12px }

.section{ margin:14px 0 10px }
.sectionHead{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:6px }
.sectionHead h4{ margin:0; color:#0f172a }
.badge{
  display:inline-flex; align-items:center; gap:6px; padding:3px 10px;
  border:1px solid; border-radius:999px; font-size:12px;
}
.badge.ok{ color:#16a34a; border-color:#bbf7d0; background:#f0fdf4 }
.badge.warn{ color:#b45309; border-color:#fde68a; background:#fffbeb }
.badge.neutral{ color:#2563eb; border-color:#bfdbfe; background:#eff6ff }

.tableWrap{ border:1px solid #eef2f7; border-radius:12px; overflow:auto }
.miniTable{ width:100%; border-collapse:separate; border-spacing:0 }
.miniTable thead th{
  position:sticky; top:0; background:#f8fafc; border-bottom:1px solid #e2e8f0;
  text-align:left; padding:8px 10px; font-weight:600; font-size:13px; color:#0f172a;
}
.miniTable td{ padding:8px 10px; border-bottom:1px solid #f1f5f9; vertical-align:top; font-size:13px }
.right{ text-align:right }
.nowrap{ white-space:nowrap }

.pill{ display:inline-block; padding:2px 8px; border-radius:999px; border:1px solid #e2e8f0; background:#fff; font-size:12px }
.tag{ display:inline-block; padding:2px 8px; border-radius:8px; background:#eef2ff; color:#4338ca; font-size:12px; border:1px solid #e0e7ff }

/* Timeline (ใช้กับ GR) */
.timeline{ list-style:none; padding:0; margin:0 }
.timeline li{
  position:relative; padding-left:18px; margin:6px 0;
}
.timeline li::before{
  content:""; position:absolute; left:6px; top:.45em; width:6px; height:6px;
  background:#22c55e; border-radius:999px;
}

/* Skeleton */
.skeleton{
  background:linear-gradient(90deg,#f7fafc,#eef2f7,#f7fafc);
  background-size:200% 100%; animation:sk 1.2s infinite linear; border-radius:8px; padding:12px;
}
@keyframes sk{0%{background-position:200% 0}100%{background-position:-200% 0}}

@media (max-width: 720px){
  .kvGrid{ grid-template-columns:1fr }
  .statRow{ grid-template-columns:1fr }
}
